---
import { DEFAULT_IMAGE } from "@lib/utils/constants";
import type { EpisodeThumbnail } from "@typs/anime";

interface Props {
	anime: EpisodeThumbnail;
	url: string;
}

const { anime, url } = Astro.props;
---

<article class="group relative hover:scale-110 duration-500">
    <a href={`/${url}/${anime.id}`} class="group-hover:scale-50">
        <picture class="aspect-[6/8] w-full h-auto flex-none">
            <img
                class="object-cover object-center h-full w-full rounded-sm"
                src={anime.img || DEFAULT_IMAGE}
                alt={`cover of ${anime.name}`}
            />
        </picture>
        
        <div class="absolute flex flex-col justify-between items-center bottom-0 left-0 right-0 h-24
                    group-hover:h-full bg-gradient-to-t from-gray-900/95 from-40% via-gray-900/75 
                    text-zinc-100 px-2 py-3 duration-500"
        >
            <h4 class="w-full break-words font-bold text-sm whitespace-nowrap text-ellipsis overflow-hidden
                        py-2 group-hover:whitespace-normal group-hover:text-base duration-500">
                {anime.name}
            </h4>
            <div class="w-full flex justify-between items-center">
                <span class="font-extrabold bg-red-500 rounded px-2 py-1 text-xs">
                    Cap {anime.episodes.sub}
                </span>
                <p>{anime.duration.slice(0, -1)} min</p>
            </div>
        </div>
    </a>
</article>